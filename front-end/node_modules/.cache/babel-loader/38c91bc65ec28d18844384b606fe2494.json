{"ast":null,"code":"var _jsxFileName = \"/Users/barinozmen/CsvAnalyzer/front-end/src/pages/Cms.js\";\nimport React, { Component } from \"react\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport { Grid, CircularProgress } from \"@material-ui/core/es\";\nimport Csv from \"../components/Csv\";\nimport { makeCsvData } from \"../utils/Utils\";\nimport CSVReader from \"react-csv-reader\";\nimport logo from \"../assets/images/wpwflogo.png\";\nimport SearchComponent from \"../components/SearchComponent\";\nimport Auth from \"../components/Auth\";\nimport { ListItem, List } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport CryptoJS from \"crypto-js\";\nconst baseUrl = \"http://localhost:3001/api/\";\nconst username = \"5342745714\";\nconst password = \"password\";\nconst monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    overflow: \"hidden\"\n  },\n  menu: {\n    backgroundColor: \"#ffffff\",\n    height: \"100%\"\n  },\n  rhsHeader: {\n    backgroundColor: \"#ffffff\",\n    height: \"100%\",\n    alignItems: \"center\",\n    display: \"flex\",\n    marginLeft: \"40px\",\n    fontSize: \"20px\",\n    fontWeight: \"bold\",\n    fontStyle: \"normal\",\n    fontStretch: \"normal\",\n    lineHeight: \"0.92\",\n    letterSpacing: \"1px\",\n    color: \"#ffffff\"\n  },\n  rhsMain: {\n    backgroundColor: \"#f4f4f4\",\n    padding: 30,\n    height: \"100%\",\n    overflow: \"auto\"\n  },\n  menuHeaderText: {\n    color: \"#ffffff\",\n    height: \"100%\",\n    alignItems: \"center\",\n    display: \"flex\",\n    marginLeft: \"40px\",\n    fontSize: \"18px\",\n    fontWeight: \"normal\",\n    fontStyle: \"normal\",\n    fontStretch: \"normal\",\n    lineHeight: \"normal\"\n  },\n  menuListItem: {\n    height: \"92%\"\n  },\n  csvListItem: {\n    height: \"45px\"\n  },\n  csvContainer: {\n    height: \"90%\",\n    overflow: \"auto\"\n  },\n  listItem: {\n    fontSize: \"16px\",\n    display: \"-webkit-box\",\n    width: \"100%\",\n    margin: \"0 auto\",\n    WebkitLineClamp: \"2\",\n    WebkitBoxOrient: \"vertical\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\"\n  },\n  progress: {}\n});\n\nclass Cms extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getDataFromDb = key => {\n      const _this$state = this.state,\n            csvList = _this$state.csvList,\n            token = _this$state.token;\n      this.setState({\n        loading: true,\n        csvData: null,\n        csvHeader: null\n      });\n      let hashString = token + moment().unix();\n      let hash = this.generateHash(hashString);\n      fetch(\"\".concat(baseUrl, \"getData?name=\").concat(csvList[key], \"&param=\").concat(hash)).then(data => data.json()).then(res => {\n        this.setState({\n          csvData: res.data.data.body,\n          csvHeader: res.data.data.columns,\n          csvName: res.data.data.name,\n          loading: false\n        });\n      });\n    };\n\n    this.putDataToDB = (csvName, csvData, csvHeader) => {\n      const _this$state2 = this.state,\n            csvList = _this$state2.csvList,\n            searchQuery = _this$state2.searchQuery,\n            token = _this$state2.token;\n      let currentIds = csvList.map(data => data.id);\n      let idToBeAdded = 0;\n\n      while (currentIds.includes(idToBeAdded)) {\n        ++idToBeAdded;\n      }\n\n      this.setState({\n        loading: true\n      });\n      let hashString = token + moment().unix();\n      let hash = this.generateHash(hashString);\n      axios.post(\"\".concat(baseUrl, \"putData?param=\").concat(hash), {\n        id: idToBeAdded,\n        name: csvName,\n        columns: csvHeader,\n        body: csvData,\n        param: hash\n      }).then(response => {\n        this.getCsvListFromDb(searchQuery);\n        this.setState({\n          loading: false,\n          selectedItem: null\n        });\n      }).catch(err => {\n        console.log(err);\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.getCsvListFromDb = text => {\n      const token = this.state.token;\n      let hashString = token + moment().unix();\n      let hash = this.generateHash(hashString);\n      fetch(\"\".concat(baseUrl, \"listData?query=\").concat(text, \"&param=\").concat(hash)).then(data => data.json()).then(res => {\n        this.setState({\n          csvList: res.data\n        });\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.deleteFromDB = () => {\n      const _this$state3 = this.state,\n            csvName = _this$state3.csvName,\n            searchQuery = _this$state3.searchQuery,\n            token = _this$state3.token;\n\n      if (!window.confirm(\"Are you sure to delete csv?\")) {\n        return;\n      }\n\n      this.setState({\n        loading: true\n      });\n      let hashString = token + moment().unix();\n      let hash = this.generateHash(hashString);\n      fetch(\"\".concat(baseUrl, \"deleteData?name=\").concat(csvName, \"&param=\").concat(hash)).then(response => {\n        this.getCsvListFromDb(searchQuery);\n        this.setState({\n          loading: false,\n          selectedItem: null,\n          csvData: null,\n          csvHeader: null\n        });\n      }).catch(err => {\n        console.log(err);\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.uploadCsv = (event, fileName) => {\n      if (!event) {\n        return;\n      }\n\n      let columns = [];\n      let accessors = [];\n      let csvBody = [];\n\n      for (let i = 0; i < event[0].length; i++) {\n        let headerElement = {\n          Header: event[0][i],\n          accessor: event[0][i]\n        };\n        columns.push(headerElement);\n        accessors.push(event[0][i]);\n      }\n\n      for (let i = 1; i < event.length; i++) {\n        let tempArray = [];\n\n        for (let j = 0; j < event[0].length; j++) {\n          tempArray.push(event[i][j]);\n        }\n\n        csvBody.push(tempArray);\n      }\n\n      this.setState({\n        csvHeader: columns,\n        csvData: makeCsvData(csvBody, accessors),\n        loading: false,\n        selectedItem: null,\n        csvName: fileName,\n        event: event\n      });\n    };\n\n    this.changeFilterMethod = (i, filterName, filtered) => {\n      const csvHeader = this.state.csvHeader;\n\n      if (!csvHeader) {\n        return;\n      }\n\n      let columns = [];\n\n      if (i === 0) {\n        columns = this.getFilterStartsWith(filtered);\n      } else if (i === 1) {\n        columns = this.getFilterIncludes(filtered);\n      } else if (i === 2) {\n        columns = this.getFilterNotIncludes(filtered);\n      } else if (i === 3) {\n        columns = this.getFilterBigerThan(filtered);\n      } else if (i === 4) {\n        columns = this.getFilterLowerThan(filtered);\n      } else if (i === 5) {\n        columns = this.getFilterCombination(filtered);\n      }\n\n      this.setState({\n        csvHeader: columns\n      });\n    };\n\n    this.searchEvent = text => {\n      this.setState({\n        searchQuery: text\n      });\n      this.getCsvListFromDb(text);\n    };\n\n    this.authEvent = (str1, str2) => {\n      const searchQuery = this.state.searchQuery;\n      localStorage.setItem(\"username\", str1);\n      localStorage.setItem(\"password\", str2);\n\n      if (str1 === username && str2 === password) {\n        this.setState({\n          authorized: true,\n          token: str1 + str2\n        });\n        setTimeout(() => {\n          this.getCsvListFromDb(searchQuery);\n        }, 1000);\n      } else {\n        window.alert(\"Wrong Credentials\");\n      }\n    };\n\n    this.onSelectMenuItem = key => {\n      this.setState({\n        selectedItem: key\n      });\n      this.getDataFromDb(key);\n    };\n\n    this.renderCsvItems = () => {\n      const classes = this.props.classes;\n      const _this$state4 = this.state,\n            selectedItem = _this$state4.selectedItem,\n            csvList = _this$state4.csvList;\n      return csvList.map((item, i) => {\n        let csvItem = item.substring(0, item.length - 5);\n        return React.createElement(ListItem, {\n          selected: selectedItem === i ? true : false,\n          divider: true,\n          key: i,\n          className: classes.csvListItem,\n          onClick: () => this.onSelectMenuItem(i),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 520\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: classes.listItem,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 527\n          },\n          __self: this\n        }, csvItem));\n      });\n    };\n\n    this.reOrderCalender = columnHeader => {\n      const csvData = this.state.csvData;\n      let orginezedData = [];\n      console.log(csvData[0][0]);\n\n      for (let i = 0; i < csvData.length; i++) {\n        orginezedData.push(csvData[i]);\n        let dateString = monthNames[new Date(csvData[i][columnHeader]).getMonth()];\n        dateString += \" \" + new Date(csvData[i][columnHeader]).getFullYear();\n        orginezedData[i][columnHeader] = dateString;\n      }\n\n      this.setState({\n        csvData: orginezedData\n      });\n    };\n\n    this.state = {\n      height: null,\n      csvHeader: null,\n      csvData: null,\n      filterMethodString: \"\",\n      filterMethod: 0,\n      searchQuery: \"\",\n      selectedItem: null,\n      csvList: [],\n      csvName: null,\n      id: 0,\n      loading: false,\n      authorized: false,\n      token: \"\",\n      event: null\n    };\n  }\n\n  componentDidMount() {\n    const searchQuery = this.state.searchQuery;\n    this.resizeEvent();\n    window.addEventListener(\"resize\", () => this.resizeEvent());\n\n    if (localStorage.getItem(\"username\") === username && localStorage.getItem(\"password\") === password) {\n      this.setState({\n        authorized: true,\n        token: localStorage.getItem(\"username\") + localStorage.getItem(\"password\")\n      });\n    }\n\n    setTimeout(() => {\n      this.getCsvListFromDb(searchQuery);\n    }, 1000);\n  }\n\n  generateHash(text) {\n    var hash = CryptoJS.AES.encrypt(JSON.stringify(text), \"Mine Secret\");\n    return encodeURIComponent(hash);\n  }\n\n  componentWillUnmount() {\n    if (this.state.intervalIsSet) {\n      clearInterval(this.state.intervalIsSet);\n      this.setState({\n        intervalIsSet: null\n      });\n    }\n  }\n\n  handleDarkSideForce() {\n    console.log(\"DARKSIDE\");\n  }\n\n  getFilterStartsWith(filtered) {\n    const csvHeader = this.state.csvHeader;\n    let columns = [];\n\n    for (let i = 0; i < csvHeader.length; i++) {\n      let isPrevious = false;\n\n      for (let j = 0; j < filtered.length; j++) {\n        if (filtered[j].id === csvHeader[i].Header) {\n          isPrevious = true;\n        }\n      }\n\n      if (isPrevious) {\n        columns.push(csvHeader[i]);\n      } else {\n        let headerElement = {\n          Header: csvHeader[i].Header,\n          accessor: csvHeader[i].accessor,\n          filterable: true,\n          filterMethod: (filter, row) => row[filter.id] && row[filter.id].startsWith(filter.value)\n        };\n        columns.push(headerElement);\n      }\n    }\n\n    return columns;\n  }\n\n  getFilterIncludes(filtered) {\n    const csvHeader = this.state.csvHeader;\n    let columns = [];\n\n    for (let i = 0; i < csvHeader.length; i++) {\n      let isPrevious = false;\n\n      for (let j = 0; j < filtered.length; j++) {\n        if (filtered[j].id === csvHeader[i].Header) {\n          isPrevious = true;\n        }\n      }\n\n      if (isPrevious) {\n        columns.push(csvHeader[i]);\n      } else {\n        let headerElement = {\n          Header: csvHeader[i].Header,\n          accessor: csvHeader[i].accessor,\n          filterable: true,\n          filterMethod: (filter, row) => row[filter.id] && row[filter.id].includes(filter.value)\n        };\n        columns.push(headerElement);\n      }\n    }\n\n    return columns;\n  }\n\n  getFilterNotIncludes(filtered) {\n    const csvHeader = this.state.csvHeader;\n    let columns = [];\n\n    for (let i = 0; i < csvHeader.length; i++) {\n      let isPrevious = false;\n\n      for (let j = 0; j < filtered.length; j++) {\n        if (filtered[j].id === csvHeader[i].Header) {\n          isPrevious = true;\n        }\n      }\n\n      if (isPrevious) {\n        columns.push(csvHeader[i]);\n      } else {\n        let headerElement = {\n          Header: csvHeader[i].Header,\n          accessor: csvHeader[i].accessor,\n          filterable: true,\n          filterMethod: (filter, row) => row[filter.id] && row[filter.id].indexOf(filter.value) === -1\n        };\n        columns.push(headerElement);\n      }\n    }\n\n    return columns;\n  }\n\n  getFilterBigerThan(filtered) {\n    const csvHeader = this.state.csvHeader;\n    let columns = [];\n\n    for (let i = 0; i < csvHeader.length; i++) {\n      let isPrevious = false;\n\n      for (let j = 0; j < filtered.length; j++) {\n        if (filtered[j].id === csvHeader[i].Header) {\n          isPrevious = true;\n        }\n      }\n\n      if (isPrevious) {\n        columns.push(csvHeader[i]);\n      } else {\n        let headerElement = {\n          Header: csvHeader[i].Header,\n          accessor: csvHeader[i].accessor,\n          filterable: true,\n          filterMethod: (filter, row) => row[filter.id] && parseInt(row[filter.id]) >= parseInt(filter.value)\n        };\n        columns.push(headerElement);\n      }\n    }\n\n    return columns;\n  }\n\n  getFilterLowerThan(filtered) {\n    const csvHeader = this.state.csvHeader;\n    let columns = [];\n\n    for (let i = 0; i < csvHeader.length; i++) {\n      let isPrevious = false;\n\n      for (let j = 0; j < filtered.length; j++) {\n        if (filtered[j].id === csvHeader[i].Header) {\n          isPrevious = true;\n        }\n      }\n\n      if (isPrevious) {\n        columns.push(csvHeader[i]);\n      } else {\n        let headerElement = {\n          Header: csvHeader[i].Header,\n          accessor: csvHeader[i].accessor,\n          filterable: true,\n          filterMethod: (filter, row) => row[filter.id] && parseInt(row[filter.id]) <= parseInt(filter.value)\n        };\n        columns.push(headerElement);\n      }\n    }\n\n    return columns;\n  }\n\n  getFilterCombination(filtered) {\n    const csvHeader = this.state.csvHeader;\n    let columns = [];\n\n    for (let i = 0; i < csvHeader.length; i++) {\n      let isPrevious = false;\n\n      for (let j = 0; j < filtered.length; j++) {\n        if (filtered[j].id === csvHeader[i].Header) {\n          isPrevious = true;\n        }\n      }\n\n      if (isPrevious) {\n        columns.push(csvHeader[i]);\n      } else {\n        let headerElement = {\n          Header: csvHeader[i].Header,\n          accessor: csvHeader[i].accessor,\n          filterable: true,\n          filterMethod: (filter, row) => row[filter.id] && filter.value.includes(row[filter.id])\n        };\n        columns.push(headerElement);\n      }\n    }\n\n    return columns;\n  }\n\n  resizeEvent() {\n    this.setState({\n      height: window.innerHeight\n    });\n  }\n\n  render() {\n    const _this$state5 = this.state,\n          height = _this$state5.height,\n          csvHeader = _this$state5.csvHeader,\n          csvData = _this$state5.csvData,\n          loading = _this$state5.loading,\n          authorized = _this$state5.authorized,\n          filterMethod = _this$state5.filterMethod,\n          filterMethodString = _this$state5.filterMethodString,\n          csvName = _this$state5.csvName;\n    const classes = this.props.classes;\n\n    if (!authorized) {\n      return React.createElement(Auth, {\n        authEvent: this.authEvent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 564\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: classes.root,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 568\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      spacing: 0,\n      style: {\n        height: height\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 569\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      style: {\n        height: \"8%\",\n        backgroundColor: \"#ffffff\",\n        zIndex: 200\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 570\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 574\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 575\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"weFantastic\",\n      src: logo,\n      style: {\n        width: \"160px\",\n        marginTop: \"10px\",\n        marginLeft: \"40px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 576\n      },\n      __self: this\n    }))), React.createElement(Grid, {\n      item: true,\n      xs: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 587\n      },\n      __self: this\n    }), React.createElement(Grid, {\n      item: true,\n      xs: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 588\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        marginTop: \"8px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 589\n      },\n      __self: this\n    }, React.createElement(CSVReader, {\n      cssClass: \"csv-reader-input\",\n      label: \"+ Add New Csv File\",\n      onFileLoaded: this.uploadCsv,\n      onError: this.handleDarkSideForce,\n      inputId: \"csv\",\n      inputStyle: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 590\n      },\n      __self: this\n    })))), React.createElement(Grid, {\n      container: true,\n      style: {\n        height: \"92%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 601\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 2,\n      style: {\n        height: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 602\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      style: {\n        height: \"10%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 603\n      },\n      __self: this\n    }, React.createElement(SearchComponent, {\n      searchEvent: this.searchEvent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 604\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      container: true,\n      className: classes.csvContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 606\n      },\n      __self: this\n    }, React.createElement(List, {\n      component: \"nav\",\n      style: {\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 607\n      },\n      __self: this\n    }, this.renderCsvItems()))), React.createElement(Grid, {\n      item: true,\n      xs: 10,\n      className: classes.rhsMain,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 612\n      },\n      __self: this\n    }, loading && React.createElement(\"div\", {\n      style: {\n        position: \"absolute\",\n        textAlign: \"center\",\n        left: \"55%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 614\n      },\n      __self: this\n    }, React.createElement(CircularProgress, {\n      className: classes.progress,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 621\n      },\n      __self: this\n    })), React.createElement(Csv, {\n      csvName: csvName,\n      csvHeader: csvHeader,\n      csvData: csvData,\n      putDataToDB: this.putDataToDB,\n      deleteFromDB: this.deleteFromDB,\n      updateDB: this.updateDB,\n      reOrderCalender: this.reOrderCalender,\n      filterMethod: filterMethod,\n      filterMethodString: filterMethodString,\n      changeFilterMethod: this.changeFilterMethod,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 624\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default withStyles(styles)(Cms);","map":{"version":3,"sources":["/Users/barinozmen/CsvAnalyzer/front-end/src/pages/Cms.js"],"names":["React","Component","withStyles","Grid","CircularProgress","Csv","makeCsvData","CSVReader","logo","SearchComponent","Auth","ListItem","List","axios","moment","CryptoJS","baseUrl","username","password","monthNames","styles","theme","root","flexGrow","overflow","menu","backgroundColor","height","rhsHeader","alignItems","display","marginLeft","fontSize","fontWeight","fontStyle","fontStretch","lineHeight","letterSpacing","color","rhsMain","padding","menuHeaderText","menuListItem","csvListItem","csvContainer","listItem","width","margin","WebkitLineClamp","WebkitBoxOrient","textOverflow","progress","Cms","constructor","props","getDataFromDb","key","state","csvList","token","setState","loading","csvData","csvHeader","hashString","unix","hash","generateHash","fetch","then","data","json","res","body","columns","csvName","name","putDataToDB","searchQuery","currentIds","map","id","idToBeAdded","includes","post","param","response","getCsvListFromDb","selectedItem","catch","err","console","log","text","deleteFromDB","window","confirm","uploadCsv","event","fileName","accessors","csvBody","i","length","headerElement","Header","accessor","push","tempArray","j","changeFilterMethod","filterName","filtered","getFilterStartsWith","getFilterIncludes","getFilterNotIncludes","getFilterBigerThan","getFilterLowerThan","getFilterCombination","searchEvent","authEvent","str1","str2","localStorage","setItem","authorized","setTimeout","alert","onSelectMenuItem","renderCsvItems","classes","item","csvItem","substring","reOrderCalender","columnHeader","orginezedData","dateString","Date","getMonth","getFullYear","filterMethodString","filterMethod","componentDidMount","resizeEvent","addEventListener","getItem","AES","encrypt","JSON","stringify","encodeURIComponent","componentWillUnmount","intervalIsSet","clearInterval","handleDarkSideForce","isPrevious","filterable","filter","row","startsWith","value","indexOf","parseInt","innerHeight","render","zIndex","marginTop","position","textAlign","left","updateDB"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport { Grid, CircularProgress } from \"@material-ui/core/es\";\nimport Csv from \"../components/Csv\";\nimport { makeCsvData } from \"../utils/Utils\";\nimport CSVReader from \"react-csv-reader\";\nimport logo from \"../assets/images/wpwflogo.png\";\nimport SearchComponent from \"../components/SearchComponent\";\nimport Auth from \"../components/Auth\";\nimport { ListItem, List } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport CryptoJS from \"crypto-js\";\n\nconst baseUrl = \"http://localhost:3001/api/\";\nconst username = \"5342745714\";\nconst password = \"password\";\n\nconst monthNames = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n];\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    overflow: \"hidden\"\n  },\n  menu: {\n    backgroundColor: \"#ffffff\",\n    height: \"100%\"\n  },\n  rhsHeader: {\n    backgroundColor: \"#ffffff\",\n    height: \"100%\",\n    alignItems: \"center\",\n    display: \"flex\",\n    marginLeft: \"40px\",\n    fontSize: \"20px\",\n    fontWeight: \"bold\",\n    fontStyle: \"normal\",\n    fontStretch: \"normal\",\n    lineHeight: \"0.92\",\n    letterSpacing: \"1px\",\n    color: \"#ffffff\"\n  },\n  rhsMain: {\n    backgroundColor: \"#f4f4f4\",\n    padding: 30,\n    height: \"100%\",\n    overflow: \"auto\"\n  },\n  menuHeaderText: {\n    color: \"#ffffff\",\n    height: \"100%\",\n    alignItems: \"center\",\n    display: \"flex\",\n    marginLeft: \"40px\",\n    fontSize: \"18px\",\n    fontWeight: \"normal\",\n    fontStyle: \"normal\",\n    fontStretch: \"normal\",\n    lineHeight: \"normal\"\n  },\n  menuListItem: {\n    height: \"92%\"\n  },\n  csvListItem: {\n    height: \"45px\"\n  },\n  csvContainer: {\n    height: \"90%\",\n    overflow: \"auto\"\n  },\n  listItem: {\n    fontSize: \"16px\",\n    display: \"-webkit-box\",\n    width: \"100%\",\n    margin: \"0 auto\",\n    WebkitLineClamp: \"2\",\n    WebkitBoxOrient: \"vertical\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\"\n  },\n  progress: {}\n});\n\nclass Cms extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      height: null,\n      csvHeader: null,\n      csvData: null,\n      filterMethodString: \"\",\n      filterMethod: 0,\n      searchQuery: \"\",\n      selectedItem: null,\n      csvList: [],\n      csvName: null,\n      id: 0,\n      loading: false,\n      authorized: false,\n      token: \"\",\n      event: null\n    };\n  }\n\n  getDataFromDb = key => {\n    const { csvList, token } = this.state;\n\n    this.setState({ loading: true, csvData: null, csvHeader: null });\n\n    let hashString = token + moment().unix();\n\n    let hash = this.generateHash(hashString);\n\n    fetch(`${baseUrl}getData?name=${csvList[key]}&param=${hash}`)\n      .then(data => data.json())\n      .then(res => {\n        this.setState({\n          csvData: res.data.data.body,\n          csvHeader: res.data.data.columns,\n          csvName: res.data.data.name,\n          loading: false\n        });\n      });\n  };\n\n  // our put method that uses our backend api\n  // to create new query into our data base\n  putDataToDB = (csvName, csvData, csvHeader) => {\n    const { csvList, searchQuery, token } = this.state;\n\n    let currentIds = csvList.map(data => data.id);\n    let idToBeAdded = 0;\n    while (currentIds.includes(idToBeAdded)) {\n      ++idToBeAdded;\n    }\n\n    this.setState({ loading: true });\n\n    let hashString = token + moment().unix();\n\n    let hash = this.generateHash(hashString);\n\n    axios\n      .post(`${baseUrl}putData?param=${hash}`, {\n        id: idToBeAdded,\n        name: csvName,\n        columns: csvHeader,\n        body: csvData,\n        param: hash\n      })\n      .then(response => {\n        this.getCsvListFromDb(searchQuery);\n        this.setState({ loading: false, selectedItem: null });\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({ loading: false });\n      });\n  };\n\n  getCsvListFromDb = text => {\n    const { token } = this.state;\n\n    let hashString = token + moment().unix();\n\n    let hash = this.generateHash(hashString);\n\n    fetch(`${baseUrl}listData?query=${text}&param=${hash}`)\n      .then(data => data.json())\n      .then(res => {\n        this.setState({ csvList: res.data });\n        this.setState({ loading: false });\n      });\n  };\n\n  // our delete method that uses our backend api\n  // to remove existing database information\n  deleteFromDB = () => {\n    const { csvName, searchQuery, token } = this.state;\n\n    if (!window.confirm(\"Are you sure to delete csv?\")) {\n      return;\n    }\n\n    this.setState({ loading: true });\n\n    let hashString = token + moment().unix();\n\n    let hash = this.generateHash(hashString);\n\n    fetch(`${baseUrl}deleteData?name=${csvName}&param=${hash}`)\n      .then(response => {\n        this.getCsvListFromDb(searchQuery);\n        this.setState({\n          loading: false,\n          selectedItem: null,\n          csvData: null,\n          csvHeader: null\n        });\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({ loading: false });\n      });\n  };\n\n  componentDidMount() {\n    const { searchQuery } = this.state;\n    this.resizeEvent();\n    window.addEventListener(\"resize\", () => this.resizeEvent());\n\n    if (\n      localStorage.getItem(\"username\") === username &&\n      localStorage.getItem(\"password\") === password\n    ) {\n      this.setState({\n        authorized: true,\n        token:\n          localStorage.getItem(\"username\") + localStorage.getItem(\"password\")\n      });\n    }\n\n    setTimeout(() => {\n      this.getCsvListFromDb(searchQuery);\n    }, 1000);\n  }\n\n  generateHash(text) {\n    var hash = CryptoJS.AES.encrypt(JSON.stringify(text), \"Mine Secret\");\n\n    return encodeURIComponent(hash);\n  }\n\n  componentWillUnmount() {\n    if (this.state.intervalIsSet) {\n      clearInterval(this.state.intervalIsSet);\n      this.setState({ intervalIsSet: null });\n    }\n  }\n\n  uploadCsv = (event, fileName) => {\n    if (!event) {\n      return;\n    }\n\n    let columns = [];\n    let accessors = [];\n    let csvBody = [];\n\n    for (let i = 0; i < event[0].length; i++) {\n      let headerElement = {\n        Header: event[0][i],\n        accessor: event[0][i]\n      };\n      columns.push(headerElement);\n      accessors.push(event[0][i]);\n    }\n\n    for (let i = 1; i < event.length; i++) {\n      let tempArray = [];\n      for (let j = 0; j < event[0].length; j++) {\n        tempArray.push(event[i][j]);\n      }\n\n      csvBody.push(tempArray);\n    }\n\n    this.setState({\n      csvHeader: columns,\n      csvData: makeCsvData(csvBody, accessors),\n      loading: false,\n      selectedItem: null,\n      csvName: fileName,\n      event: event\n    });\n  };\n\n  handleDarkSideForce() {\n    console.log(\"DARKSIDE\");\n  }\n\n  changeFilterMethod = (i, filterName, filtered) => {\n    const { csvHeader } = this.state;\n\n    if (!csvHeader) {\n      return;\n    }\n\n    let columns = [];\n    if (i === 0) {\n      columns = this.getFilterStartsWith(filtered);\n    } else if (i === 1) {\n      columns = this.getFilterIncludes(filtered);\n    } else if (i === 2) {\n      columns = this.getFilterNotIncludes(filtered);\n    } else if (i === 3) {\n      columns = this.getFilterBigerThan(filtered);\n    } else if (i === 4) {\n      columns = this.getFilterLowerThan(filtered);\n    } else if (i === 5) {\n      columns = this.getFilterCombination(filtered);\n    }\n\n    this.setState({ csvHeader: columns });\n  };\n\n  getFilterStartsWith(filtered) {\n    const { csvHeader } = this.state;\n\n    let columns = [];\n    for (let i = 0; i < csvHeader.length; i++) {\n      let isPrevious = false;\n      for (let j = 0; j < filtered.length; j++) {\n        if (filtered[j].id === csvHeader[i].Header) {\n          isPrevious = true;\n        }\n      }\n      if (isPrevious) {\n        columns.push(csvHeader[i]);\n      } else {\n        let headerElement = {\n          Header: csvHeader[i].Header,\n          accessor: csvHeader[i].accessor,\n          filterable: true,\n          filterMethod: (filter, row) =>\n            row[filter.id] && row[filter.id].startsWith(filter.value)\n        };\n        columns.push(headerElement);\n      }\n    }\n    return columns;\n  }\n\n  getFilterIncludes(filtered) {\n    const { csvHeader } = this.state;\n\n    let columns = [];\n    for (let i = 0; i < csvHeader.length; i++) {\n      let isPrevious = false;\n      for (let j = 0; j < filtered.length; j++) {\n        if (filtered[j].id === csvHeader[i].Header) {\n          isPrevious = true;\n        }\n      }\n      if (isPrevious) {\n        columns.push(csvHeader[i]);\n      } else {\n        let headerElement = {\n          Header: csvHeader[i].Header,\n          accessor: csvHeader[i].accessor,\n          filterable: true,\n          filterMethod: (filter, row) =>\n            row[filter.id] && row[filter.id].includes(filter.value)\n        };\n        columns.push(headerElement);\n      }\n    }\n    return columns;\n  }\n\n  getFilterNotIncludes(filtered) {\n    const { csvHeader } = this.state;\n\n    let columns = [];\n    for (let i = 0; i < csvHeader.length; i++) {\n      let isPrevious = false;\n      for (let j = 0; j < filtered.length; j++) {\n        if (filtered[j].id === csvHeader[i].Header) {\n          isPrevious = true;\n        }\n      }\n      if (isPrevious) {\n        columns.push(csvHeader[i]);\n      } else {\n        let headerElement = {\n          Header: csvHeader[i].Header,\n          accessor: csvHeader[i].accessor,\n          filterable: true,\n          filterMethod: (filter, row) =>\n            row[filter.id] && row[filter.id].indexOf(filter.value) === -1\n        };\n        columns.push(headerElement);\n      }\n    }\n    return columns;\n  }\n\n  getFilterBigerThan(filtered) {\n    const { csvHeader } = this.state;\n\n    let columns = [];\n    for (let i = 0; i < csvHeader.length; i++) {\n      let isPrevious = false;\n      for (let j = 0; j < filtered.length; j++) {\n        if (filtered[j].id === csvHeader[i].Header) {\n          isPrevious = true;\n        }\n      }\n      if (isPrevious) {\n        columns.push(csvHeader[i]);\n      } else {\n        let headerElement = {\n          Header: csvHeader[i].Header,\n          accessor: csvHeader[i].accessor,\n          filterable: true,\n          filterMethod: (filter, row) =>\n            row[filter.id] && parseInt(row[filter.id]) >= parseInt(filter.value)\n        };\n        columns.push(headerElement);\n      }\n    }\n    return columns;\n  }\n\n  getFilterLowerThan(filtered) {\n    const { csvHeader } = this.state;\n\n    let columns = [];\n    for (let i = 0; i < csvHeader.length; i++) {\n      let isPrevious = false;\n      for (let j = 0; j < filtered.length; j++) {\n        if (filtered[j].id === csvHeader[i].Header) {\n          isPrevious = true;\n        }\n      }\n      if (isPrevious) {\n        columns.push(csvHeader[i]);\n      } else {\n        let headerElement = {\n          Header: csvHeader[i].Header,\n          accessor: csvHeader[i].accessor,\n          filterable: true,\n          filterMethod: (filter, row) =>\n            row[filter.id] && parseInt(row[filter.id]) <= parseInt(filter.value)\n        };\n        columns.push(headerElement);\n      }\n    }\n    return columns;\n  }\n\n  getFilterCombination(filtered) {\n    const { csvHeader } = this.state;\n\n    let columns = [];\n    for (let i = 0; i < csvHeader.length; i++) {\n      let isPrevious = false;\n      for (let j = 0; j < filtered.length; j++) {\n        if (filtered[j].id === csvHeader[i].Header) {\n          isPrevious = true;\n        }\n      }\n      if (isPrevious) {\n        columns.push(csvHeader[i]);\n      } else {\n        let headerElement = {\n          Header: csvHeader[i].Header,\n          accessor: csvHeader[i].accessor,\n          filterable: true,\n          filterMethod: (filter, row) =>\n            row[filter.id] && filter.value.includes(row[filter.id])\n        };\n        columns.push(headerElement);\n      }\n    }\n    return columns;\n  }\n\n  searchEvent = text => {\n    this.setState({ searchQuery: text });\n    this.getCsvListFromDb(text);\n  };\n\n  authEvent = (str1, str2) => {\n    const { searchQuery } = this.state;\n\n    localStorage.setItem(\"username\", str1);\n    localStorage.setItem(\"password\", str2);\n\n    if (str1 === username && str2 === password) {\n      this.setState({ authorized: true, token: str1 + str2 });\n      setTimeout(() => {\n        this.getCsvListFromDb(searchQuery);\n      }, 1000);\n    } else {\n      window.alert(\"Wrong Credentials\");\n    }\n  };\n\n  resizeEvent() {\n    this.setState({ height: window.innerHeight });\n  }\n\n  onSelectMenuItem = key => {\n    this.setState({ selectedItem: key });\n    this.getDataFromDb(key);\n  };\n\n  renderCsvItems = () => {\n    const { classes } = this.props;\n    const { selectedItem, csvList } = this.state;\n\n    return csvList.map((item, i) => {\n      let csvItem = item.substring(0, item.length - 5);\n      return (\n        <ListItem\n          selected={selectedItem === i ? true : false}\n          divider\n          key={i}\n          className={classes.csvListItem}\n          onClick={() => this.onSelectMenuItem(i)}\n        >\n          <div className={classes.listItem}>{csvItem}</div>\n        </ListItem>\n      );\n    });\n  };\n\n  reOrderCalender = columnHeader => {\n    const { csvData } = this.state;\n\n    let orginezedData = [];\n\n    console.log(csvData[0][0]);\n\n    for (let i = 0; i < csvData.length; i++) {\n      orginezedData.push(csvData[i]);\n      let dateString =\n        monthNames[new Date(csvData[i][columnHeader]).getMonth()];\n      dateString += \" \" + new Date(csvData[i][columnHeader]).getFullYear();\n      orginezedData[i][columnHeader] = dateString;\n    }\n    this.setState({ csvData: orginezedData });\n  };\n\n  render() {\n    const {\n      height,\n      csvHeader,\n      csvData,\n      loading,\n      authorized,\n      filterMethod,\n      filterMethodString,\n      csvName\n    } = this.state;\n    const { classes } = this.props;\n\n    if (!authorized) {\n      return <Auth authEvent={this.authEvent} />;\n    }\n\n    return (\n      <div className={classes.root}>\n        <Grid container spacing={0} style={{ height: height }}>\n          <Grid\n            container\n            style={{ height: \"8%\", backgroundColor: \"#ffffff\", zIndex: 200 }}\n          >\n            <Grid item xs={4}>\n              <div>\n                <img\n                  alt=\"weFantastic\"\n                  src={logo}\n                  style={{\n                    width: \"160px\",\n                    marginTop: \"10px\",\n                    marginLeft: \"40px\"\n                  }}\n                />\n              </div>\n            </Grid>\n            <Grid item xs={6} />\n            <Grid item xs={2}>\n              <div style={{ marginTop: \"8px\" }}>\n                <CSVReader\n                  cssClass=\"csv-reader-input\"\n                  label=\"+ Add New Csv File\"\n                  onFileLoaded={this.uploadCsv}\n                  onError={this.handleDarkSideForce}\n                  inputId=\"csv\"\n                  inputStyle={{ color: \"red\" }}\n                />\n              </div>\n            </Grid>\n          </Grid>\n          <Grid container style={{ height: \"92%\" }}>\n            <Grid item xs={2} style={{ height: \"100%\" }}>\n              <Grid container style={{ height: \"10%\" }}>\n                <SearchComponent searchEvent={this.searchEvent} />\n              </Grid>\n              <Grid container className={classes.csvContainer}>\n                <List component=\"nav\" style={{ width: \"100%\" }}>\n                  {this.renderCsvItems()}\n                </List>\n              </Grid>\n            </Grid>\n            <Grid item xs={10} className={classes.rhsMain}>\n              {loading && (\n                <div\n                  style={{\n                    position: \"absolute\",\n                    textAlign: \"center\",\n                    left: \"55%\"\n                  }}\n                >\n                  <CircularProgress className={classes.progress} />\n                </div>\n              )}\n              <Csv\n                csvName={csvName}\n                csvHeader={csvHeader}\n                csvData={csvData}\n                putDataToDB={this.putDataToDB}\n                deleteFromDB={this.deleteFromDB}\n                updateDB={this.updateDB}\n                reOrderCalender={this.reOrderCalender}\n                filterMethod={filterMethod}\n                filterMethodString={filterMethodString}\n                changeFilterMethod={this.changeFilterMethod}\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(Cms);\n"]},"metadata":{},"sourceType":"module"}